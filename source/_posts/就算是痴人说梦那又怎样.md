---
title: 夕顔 | 就算是痴人说梦那又怎样
date: 2018-04-17 15:04:32
tags:
---

# HTML

## 元素分类

* 行内元素(7)：a b(加粗) span img input selcet strong
* 块级元素(9)：div ul ol li dl dt dd h1 p
* 空元素(6)：br hr(直线) img input link meta

---

## link 和 @import 的区别

* 加载顺序（link 同时加载 @import 等页面加载完再加载）
* 分类不同（link 是 XHTML 标签，除 CSS 还可加载其他文件 @import 由 css 提供，只能加载 css）
* 兼容性（@import IE5 以上）

---

# CSS

# JavaScript

# Web 综合

## 介绍一下你对浏览器内核的理解？

[从浏览器多进程到 JS 单线程，JS 运行机制最全面的一次梳理](https://juejin.im/post/5a6547d0f265da3e283a1df7)

### 进程和线程的区别

* 进程是 cpu 资源分配的最小单位
* 线程是 cpu 调度的最小单位

### 浏览器是多进程的

![浏览器](http://m.qpic.cn/psb?/V10ZHE9M4DB6nN/KGJ*ub*P0OlFT9iNDSWPkqkDJEVOLTpcHwf40WPFxI8!/b/dDIBAAAAAAAA&bo=WASaAlgEmgIDByI!&rf=viewer_4)

浏览器有以下几个进程：

1.  Browser 进程（主程）

* 负责浏览器界面显示，与用户交互。如前进，后退等
* 负责各个页面的管理，创建和销毁其他进程
* 将 Renderer 进程得到的内存中的 Bitmap，绘制到用户界面上
* 网络资源的管理，下载等

2.  第三方插件进程
3.  GPU 进程（3D 绘制）
4.  浏览器渲染进程 = 浏览器内核（每个 Tab 一个进程，多个空白页自动合并成一个进程。用于页面渲染、脚本运行、事件处理等）

敲黑板，划重点，**浏览器的渲染进程是多线程的**。那么我们来看看它包括哪些线程。

1.  GUI 渲染线程（Graphical User Interface）

* 负责渲染浏览器界面，解析 HTML，CSS，构建 DOM 树和 RenderObject 树，布局和绘制等。
* 注意，**GUI 渲染线程与 JS 引擎线程是互斥的**，当 JS 引擎执行时 GUI 线程会被挂起（相当于被冻结了），GUI 更新会被保存在一个队列中等到 JS 引擎空闲时立即被执行。

2.  JS 引擎线程

* 也称为 JS 内核，负责处理 Javascript 脚本程序。

3.  事件触发线程
4.  定时触发器线程
5.  异步 http 请求线程

---

## 从打开浏览器到页面渲染的过程

![渲染过程](http://m.qpic.cn/psb?/V10ZHE9M4DB6nN/D8QWZaMtWe*D8HReZWw8XVbbI8duNl4gIuLQgnR4Sus!/b/dEUBAAAAAAAA&bo=PwTPAj8EzwIDByI!&rf=viewer_4)

1.  用户输入 URL
1.  DNS 查询，IP 寻址
1.  Browser 进程收到用户请求，首先需要获取页面内容（譬如通过网络下载资源），随后将该任务通过 RendererHost 接口传递给 Render 进程
1.  Renderer 进程的 Renderer 接口收到消息，简单解释后，交给渲染线程，然后开始渲染
1.  解析 html 建立 dom 树
1.  解析 css 构建 render 树（将 CSS 代码解析成树形的数据结构，然后结合 DOM 合并成 render 树）
1.  布局 render 树（Layout/reflow），负责各元素尺寸、位置的计算
1.  绘制 render 树（paint），绘制页面像素信息
1.  浏览器会将各层的信息发送给 GPU，GPU 会将各层合成（composite），显示在屏幕上。

---

## load 事件和 DOMContentLoaded 事件的先后

* 当 DOMContentLoaded 事件触发时，仅当 DOM 加载完成，不包括样式表，图片。 (譬如如果有 async 加载的脚本就不一定完成)

* 当 onload 事件触发时，页面上所有的 DOM，样式表，脚本，图片都已经加载完成了。 （渲染完毕了）

DOMContentLoaded -> load
